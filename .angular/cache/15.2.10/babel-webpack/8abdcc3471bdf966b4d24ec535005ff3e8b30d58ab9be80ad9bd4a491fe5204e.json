{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormControl, FormGroup, ReactiveFormsModule } from '@angular/forms';\nimport { map, tap } from 'rxjs/operators';\nimport { UserAlbumsStateModule } from '../../../../application/state/user-albums.state-module';\nimport { UsersServiceModule } from '../../../secondary/services/users/users.service-module';\nimport { PhotosServiceModule } from '../../../secondary/services/photos/photos.service-module';\nimport { GET_USER_DETAILS_QUERY_PORT } from '../../../../application/ports/primary/query/get-user-details.query-port';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-bootstrap/modal\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nexport class EditUserDetailsModalComponent {\n  constructor(bsModalRef, _getUserDetailsQueryPort) {\n    this.bsModalRef = bsModalRef;\n    this._getUserDetailsQueryPort = _getUserDetailsQueryPort;\n    this.propertyName = '';\n    this.editValue = new FormGroup({\n      value: new FormControl()\n    });\n    this.userDetails$ = this._getUserDetailsQueryPort.getUserDetails().pipe(map(user => user[this.propertyName]));\n  }\n  ngOnInit() {\n    this.userDetails$.pipe(tap(data => this.editValue.patchValue({\n      value: data\n    }))).subscribe();\n  }\n  static #_ = this.ɵfac = function EditUserDetailsModalComponent_Factory(t) {\n    return new (t || EditUserDetailsModalComponent)(i0.ɵɵdirectiveInject(i1.BsModalRef), i0.ɵɵdirectiveInject(GET_USER_DETAILS_QUERY_PORT));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EditUserDetailsModalComponent,\n    selectors: [[\"lib-edit-user-details-modal\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 13,\n    vars: 11,\n    consts: [[1, \"modal-header\"], [1, \"modal-title\", \"pull-left\"], [\"type\", \"button\", 1, \"btn-close\", \"close\", \"pull-right\", 3, \"click\"], [3, \"formGroup\"], [\"type\", \"text\", \"formControlName\", \"value\", 1, \"form-control\", 3, \"value\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", 3, \"click\"]],\n    template: function EditUserDetailsModalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function EditUserDetailsModalComponent_Template_button_click_3_listener() {\n          return ctx.bsModalRef.hide();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"json\");\n        i0.ɵɵpipe(6, \"async\");\n        i0.ɵɵelementStart(7, \"form\", 3);\n        i0.ɵɵelement(8, \"input\", 4);\n        i0.ɵɵpipe(9, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 5)(11, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function EditUserDetailsModalComponent_Template_button_click_11_listener() {\n          return ctx.bsModalRef.hide();\n        });\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.title);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"\\n\", i0.ɵɵpipeBind1(5, 5, i0.ɵɵpipeBind1(6, 7, ctx.userDetails$)), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.editValue);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind1(9, 9, ctx.userDetails$));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.closeBtnName);\n      }\n    },\n    dependencies: [CommonModule, i2.AsyncPipe, i2.JsonPipe, UserAlbumsStateModule, UsersServiceModule, PhotosServiceModule, ReactiveFormsModule, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"],\n    changeDetection: 0\n  });\n}","map":{"version":3,"mappings":"AAMA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,EAAEC,SAAS,EAAEC,mBAAmB,QAAQ,gBAAgB;AAC5E,SAASC,GAAG,EAAEC,GAAG,QAAQ,gBAAgB;AACzC,SAASC,qBAAqB,QAAQ,wDAAwD;AAC9F,SAASC,kBAAkB,QAAQ,wDAAwD;AAC3F,SAASC,mBAAmB,QAAQ,0DAA0D;AAE9F,SACEC,2BAA2B,QAEtB,yEAAyE;;;;;AAiBhF,OAAM,MAAOC,6BAA6B;EAWxCC,YACSC,UAAsB,EAErBC,wBAAiD;IAFlD,eAAU,GAAVD,UAAU;IAET,6BAAwB,GAAxBC,wBAAwB;IAXlC,iBAAY,GAAoB,EAAE;IAEzB,cAAS,GAAc,IAAIX,SAAS,CAAC;MAAEY,KAAK,EAAE,IAAIb,WAAW;IAAE,CAAE,CAAC;IAElE,iBAAY,GAAG,IAAI,CAACY,wBAAwB,CAClDE,cAAc,EAAE,CAChBC,IAAI,CAACZ,GAAG,CAAEa,IAAe,IAAKA,IAAI,CAAC,IAAI,CAACC,YAA+B,CAAC,CAAC,CAAC;EAM1E;EAEHC,QAAQ;IACN,IAAI,CAACC,YAAY,CAACJ,IAAI,CACpBX,GAAG,CAAEgB,IAAI,IAAK,IAAI,CAACC,SAAS,CAACC,UAAU,CAAC;MAAET,KAAK,EAAEO;IAAI,CAAE,CAAC,CAAC,CAC1D,CAACG,SAAS,EAAE;EACf;EAAC;qBArBUd,6BAA6B,4DAa9BD,2BAA2B;EAAA;EAAA;UAb1BC,6BAA6B;IAAAe;IAAAC;IAAAC;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCjC1CC,8BAA0B;QACUA,YAAS;QAAAA,iBAAK;QAChDA,iCAAqF;QAA5BA;UAAA,OAASC,qBAAiB;QAAA,EAAC;QACpFD,iBAAS;QAEXA,YAEA;;;QAAAA,+BAA8B;QAC5BA,2BAKE;;QACJA,iBAAO;QACPA,+BAA0B;QACsBA;UAAA,OAASC,qBAAiB;QAAA,EAAC;QAACD,aAAgB;QAAAA,iBAAS;;;QAfjEA,eAAS;QAATA,+BAAS;QAI7CA,eAEA;QAFAA,8FAEA;QAAMA,eAAuB;QAAvBA,yCAAuB;QAKzBA,eAA8B;QAA9BA,8DAA8B;QAI0CA,eAAgB;QAAhBA,sCAAgB;;;mBDUxFhC,YAAY,6BACZM,qBAAqB,EACrBC,kBAAkB,EAClBC,mBAAmB,EACnBL,mBAAmB;IAAA+B;IAAAC;EAAA","names":["CommonModule","FormControl","FormGroup","ReactiveFormsModule","map","tap","UserAlbumsStateModule","UsersServiceModule","PhotosServiceModule","GET_USER_DETAILS_QUERY_PORT","EditUserDetailsModalComponent","constructor","bsModalRef","_getUserDetailsQueryPort","value","getUserDetails","pipe","user","propertyName","ngOnInit","userDetails$","data","editValue","patchValue","subscribe","selectors","standalone","features","decls","vars","consts","template","i0","ctx","styles","changeDetection"],"sourceRoot":"","sources":["E:\\WORK\\task\\projects\\user-albums\\src\\lib\\adapters\\primary\\components\\edit-user-details-modal\\edit-user-details-modal.component.ts","E:\\WORK\\task\\projects\\user-albums\\src\\lib\\adapters\\primary\\components\\edit-user-details-modal\\edit-user-details-modal.component.html"],"sourcesContent":["import {\n  ChangeDetectionStrategy,\n  Component,\n  Inject,\n  OnInit,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormControl, FormGroup, ReactiveFormsModule } from '@angular/forms';\nimport { map, tap } from 'rxjs/operators';\nimport { UserAlbumsStateModule } from '../../../../application/state/user-albums.state-module';\nimport { UsersServiceModule } from '../../../secondary/services/users/users.service-module';\nimport { PhotosServiceModule } from '../../../secondary/services/photos/photos.service-module';\nimport { UserQuery } from '../../../../application/ports/primary/query/user.query';\nimport {\n  GET_USER_DETAILS_QUERY_PORT,\n  GetUserDetailsQueryPort,\n} from '../../../../application/ports/primary/query/get-user-details.query-port';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\n\n@Component({\n  selector: 'lib-edit-user-details-modal',\n  styleUrls: ['./edit-user-details-modal.component.scss'],\n  templateUrl: './edit-user-details-modal.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    CommonModule,\n    UserAlbumsStateModule,\n    UsersServiceModule,\n    PhotosServiceModule,\n    ReactiveFormsModule,\n  ],\n})\nexport class EditUserDetailsModalComponent implements OnInit {\n  title?: string;\n  closeBtnName?: string;\n  propertyName: string | number = '';\n\n  readonly editValue: FormGroup = new FormGroup({ value: new FormControl() });\n\n  readonly userDetails$ = this._getUserDetailsQueryPort\n    .getUserDetails()\n    .pipe(map((user: UserQuery) => user[this.propertyName as keyof UserQuery]));\n\n  constructor(\n    public bsModalRef: BsModalRef,\n    @Inject(GET_USER_DETAILS_QUERY_PORT)\n    private _getUserDetailsQueryPort: GetUserDetailsQueryPort\n  ) {}\n\n  ngOnInit() {\n    this.userDetails$.pipe(\n      tap((data) => this.editValue.patchValue({ value: data }))\n    ).subscribe();\n  }\n}\n","<div class=\"modal-header\">\r\n  <h4 class=\"modal-title pull-left\">{{title}}</h4>\r\n  <button type=\"button\" class=\"btn-close close pull-right\" (click)=\"bsModalRef.hide()\">\r\n  </button>\r\n</div>\r\n{{userDetails$ | async | json}}\r\n\r\n<form [formGroup]=\"editValue\">\r\n  <input\r\n    type=\"text\"\r\n    formControlName=\"value\"\r\n    class=\"form-control\"\r\n    [value]=\"userDetails$ | async\"\r\n  />\r\n</form>\r\n<div class=\"modal-footer\">\r\n  <button type=\"button\" class=\"btn btn-default\" (click)=\"bsModalRef.hide()\">{{closeBtnName}}</button>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}